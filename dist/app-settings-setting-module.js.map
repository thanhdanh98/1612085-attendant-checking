{"version":3,"sources":["./src/app/settings/setting.component.html","./src/app/settings/setting.component.ts","./src/app/settings/setting.module.ts"],"names":[],"mappings":"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","file":"app-settings-setting-module.js","sourcesContent":["export default \"<div class=\\\"col-md-6 col-sm-6 col-xs-12\\\">\\r\\n    <div class=\\\"x_panel\\\">\\r\\n        <div class=\\\"x_title\\\">\\r\\n            <h4>Email</h4>\\r\\n            <div class=\\\"clearfix\\\"></div>\\r\\n        </div>\\r\\n        <div class=\\\"x_content\\\">\\r\\n            <div class=\\\"form-group form-horizontal\\\">\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"control-label col-md-3 col-sm-3 col-xs-12\\\" for=\\\"first-name\\\">Host <span class=\\\"required\\\">*</span></label>\\r\\n                    <div class=\\\"col-md-9 col-sm-9 col-xs-12\\\">\\r\\n                        <select class=\\\"form-control\\\" name=\\\"host\\\" [(ngModel)]=\\\"settings['selected_host']\\\" (ngModelChange)=\\\"onChangeHost()\\\">\\r\\n                            <option *ngFor=\\\"let email of settings['emails']\\\" [value]=\\\"email.host_name\\\">{{email.host_name}}</option>\\r\\n                        </select>\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"control-label col-md-3 col-sm-3 col-xs-12\\\" for=\\\"first-name\\\">Email <span class=\\\"required\\\">*</span></label>\\r\\n                    <div class=\\\"col-md-9 col-sm-9 col-xs-12\\\">\\r\\n                        <input type=\\\"text\\\" name=\\\"email\\\" [(ngModel)]=\\\"settings['emails'][selected_email_index]['config']['auth']['user']\\\" class=\\\"form-control col-md-7 col-xs-12\\\">\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"control-label col-md-3 col-sm-3 col-xs-12\\\" for=\\\"first-name\\\">Password <span class=\\\"required\\\">*</span></label>\\r\\n                    <div class=\\\"col-md-9 col-sm-9 col-xs-12\\\">\\r\\n                        <input type=\\\"password\\\" name=\\\"password\\\" [(ngModel)]=\\\"settings['emails'][selected_email_index]['config']['auth']['pass']\\\" class=\\\"form-control col-md-7 col-xs-12\\\">\\r\\n                    </div>\\r\\n                </div>\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"control-label col-md-3 col-sm-3 col-xs-12\\\" for=\\\"first-name\\\"> Signature <span class=\\\"required\\\">*</span></label>\\r\\n                    <div class=\\\"col-md-9 col-sm-9 col-xs-12\\\">\\r\\n                        <textarea class=\\\"form-control col-md-7 col-xs-12\\\" name=\\\"signature\\\" autosize rows=\\\"2\\\" style=\\\"resize: none;\\\" [(ngModel)]=\\\"settings['emails'][selected_email_index]['signature']\\\"></textarea>\\r\\n                    </div>\\r\\n                </div>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div>\\r\\n<!-- <div class=\\\"col-md-6 col-sm-6 col-xs-12\\\">\\r\\n    <div class=\\\"x_panel\\\">\\r\\n        <div class=\\\"x_title\\\">\\r\\n            <h4>General</h4>\\r\\n            <div class=\\\"clearfix\\\"></div>\\r\\n        </div>\\r\\n        <div class=\\\"x_content\\\">\\r\\n            <div class=\\\"form-group form-horizontal\\\">\\r\\n                <div class=\\\"form-group\\\">\\r\\n                    <label class=\\\"control-label col-md-5 col-sm-6 col-xs-12\\\" for=\\\"first-name\\\">Auto close attendance time</label>\\r\\n                    <div class=\\\"col-md-3 col-sm-3 col-xs-12\\\">\\r\\n                        <input [textMask]=\\\"{mask: mask,guide:true,placeholderChar:'_'}\\\" class=\\\"form-control only_bottom_border\\\" [(ngModel)]=\\\"settings['auto_close_attendance_time']\\\" style=\\\"font-size: large;\\\">\\r\\n                    </div>\\r\\n                </div>\\r\\n                <br>\\r\\n            </div>\\r\\n        </div>\\r\\n    </div>\\r\\n</div> -->\\r\\n<div class=\\\"col-xs-12\\\">\\r\\n    <button class=\\\"btn btn-success pull-right\\\" (click)=\\\"saveSetting()\\\">Save</button>\\r\\n</div>\"","import { Component, OnInit } from '@angular/core';\r\nimport { ScheduleService, AppService, SemesterService } from '../shared/shared.module';\r\nimport { Router, ActivatedRoute, Params } from '@angular/router';\r\n@Component({\r\n    selector: 'app-setting',\r\n    templateUrl: './setting.component.html'\r\n})\r\nexport class SettingComponent implements OnInit {\r\n\r\n    public constructor(public  scheduleService: ScheduleService, public  appService: AppService, public  router: Router, public  semesterService: SemesterService) {}\r\n    public mask = [/\\d/, /\\d/, ':', /\\d/, /\\d/];\r\n    public settings = { \r\n        emails : [\r\n            {\r\n                host_name : '',\r\n                signature : '',\r\n                config: {\r\n                    auth:{\r\n                        user : '',\r\n                        pass : ''\r\n                    }\r\n                },\r\n            }\r\n        ]\r\n    };\r\n    public selected_email_index = 0;\r\n    public ngOnInit() {\r\n        this.appService.getSettings().subscribe(result=>{\r\n            this.settings = result.settings;\r\n            console.log(this.settings.emails);\r\n            this.onChangeHost();\r\n        },error=>{this.appService.showPNotify('failure',\"Server Error! Can't get settings\",'error');});\r\n    }\r\n    public onChangeHost(){\r\n        for(var i = 0 ; i < this.settings['emails'].length; i++){\r\n            if(this.settings['emails'][i].host_name == this.settings['selected_host']){\r\n                this.selected_email_index = i;\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    public saveSetting(){\r\n    \tthis.appService.saveSettings(this.settings).subscribe(result=>{\r\n            if(result.result == 'success'){\r\n                this.appService.showPNotify('success',result.message,'success');\r\n            }else{\r\n                this.appService.showPNotify('failure',result.message,'error');\r\n            }\r\n        },error=>{this.appService.showPNotify('failure',\"Server Error! Can't get settings\",'error');});\r\n    }\r\n}\r\n","import { NgModule }       from '@angular/core';\r\nimport { CommonModule }   from '@angular/common';\r\nimport { FormsModule }    from '@angular/forms';\r\nimport { RouterModule, Routes } from '@angular/router';\r\nimport { CollapseModule } from 'ngx-bootstrap';\r\nimport { TextMaskModule } from 'angular2-text-mask';\r\nimport { SettingComponent }    from './setting.component';\r\nimport { PaginationModule } from 'ngx-bootstrap/pagination';\r\nimport { TabsModule } from 'ngx-bootstrap/tabs';\r\nimport {FileUploadModule} from \"ng2-file-upload\";\r\nimport { AutosizeModule } from '../shared/module/autosize/autosize.module';\r\n\r\nconst Routes: Routes = [\r\n  { path: '',  component: SettingComponent }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    RouterModule.forChild(Routes),\r\n    CollapseModule.forRoot(),\r\n    PaginationModule.forRoot(),\r\n    TabsModule,\r\n    FileUploadModule,\r\n    TextMaskModule,\r\n    AutosizeModule\r\n  ],\r\n  declarations: [\r\n    SettingComponent,\r\n  ],\r\n  providers: []\r\n})\r\nexport class SettingModule {}\r\n"],"sourceRoot":"webpack:///"}